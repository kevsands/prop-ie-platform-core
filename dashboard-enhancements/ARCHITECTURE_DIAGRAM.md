# PROP Platform Architecture Diagram

## System Architecture Overview

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                   PROP Platform                                 │
│                        Real Estate Transaction Ecosystem                        │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                                 Frontend Layer                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐          │
│  │    Buyer     │ │  Developer   │ │    Agent     │ │  Solicitor   │          │
│  │  Dashboard   │ │  Dashboard   │ │  Dashboard   │ │  Dashboard   │          │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘          │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                    Next.js 14 App Router                        │           │
│  │  ├── /buyer     ├── /developer   ├── /agents   ├── /solicitor  │           │
│  │  ├── /properties ├── /admin       ├── /login    ├── /register  │           │
│  └─────────────────────────────────────────────────────────────────┘           │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                    React Components Library                     │           │
│  │  • 406 Reusable Components                                      │           │
│  │  • Tailwind CSS Styling                                         │           │
│  │  • Responsive Design                                            │           │
│  └─────────────────────────────────────────────────────────────────┘           │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              State Management                                   │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐          │
│  │ AuthContext  │ │UserRoleContext│ │ Custom Hooks │ │ Local State  │          │
│  │ • Auth State │ │ • User Roles │ │ • 57 Hooks   │ │ • Component  │          │
│  │ • Sessions   │ │ • Permissions │ │ • API Calls  │ │ • UI State   │          │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘          │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                                Service Layer                                    │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐          │
│  │  Property    │ │   Document   │ │   Payment    │ │    User      │          │
│  │  Service     │ │   Service    │ │   Service    │ │   Service    │          │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘          │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐          │
│  │ Development  │ │ Transaction  │ │   Buyer      │ │  Analytics   │          │
│  │  Service     │ │   Service    │ │   Service    │ │   Service    │          │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘          │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                                  API Layer                                      │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                         GraphQL Client                           │           │
│  │  • AWS AppSync Integration                                       │           │
│  │  • Apollo Client (planned)                                       │           │
│  │  • Query/Mutation Management                                     │           │
│  └─────────────────────────────────────────────────────────────────┘           │
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                         REST API Client                          │           │
│  │  • Axios/Fetch Configuration                                     │           │
│  │  • Error Handling                                                │           │
│  │  • Request Interceptors                                          │           │
│  └─────────────────────────────────────────────────────────────────┘           │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                            Backend Infrastructure                               │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                         AWS Services                             │           │
│  │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐      │           │
│  │  │  Amplify   │ │  AppSync  │ │  Cognito  │ │  Lambda   │      │           │
│  │  │  Hosting   │ │  GraphQL  │ │   Auth    │ │ Functions │      │           │
│  │  └───────────┘ └───────────┘ └───────────┘ └───────────┘      │           │
│  │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐      │           │
│  │  │    S3     │ │CloudFront │ │   RDS     │ │   SNS     │      │           │
│  │  │  Storage  │ │    CDN    │ │ Database  │ │  Notify   │      │           │
│  │  └───────────┘ └───────────┘ └───────────┘ └───────────┘      │           │
│  └─────────────────────────────────────────────────────────────────┘           │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              Data Layer                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                      Prisma ORM                                  │           │
│  │  • Type-safe database access                                     │           │
│  │  • Migration management                                          │           │
│  │  • Query optimization                                            │           │
│  └─────────────────────────────────────────────────────────────────┘           │
│  ┌─────────────────────────────────────────────────────────────────┐           │
│  │                  PostgreSQL/MySQL Database                       │           │
│  │  • User data            • Property listings                      │           │
│  │  • Transactions         • Documents                              │           │
│  │  • Analytics            • Audit logs                             │           │
│  └─────────────────────────────────────────────────────────────────┘           │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Component Interaction Flow

```
User Interaction → React Component → Custom Hook → Service Layer → API Client → AWS Backend
                                          ↓
                                    Context/State
                                          ↓
                                    UI Re-render
```

## Security Layers

```
┌─────────────────────────────────────────────────────────────────────┐
│                        Security Architecture                        │
├─────────────────────────────────────────────────────────────────────┤
│  1. Network Security                                                │
│     • HTTPS/TLS encryption                                          │
│     • AWS WAF protection                                            │
│     • DDoS mitigation                                               │
│                                                                     │
│  2. Application Security                                            │
│     • JWT authentication                                            │
│     • Role-based access control                                     │
│     • Input validation                                              │
│     • XSS protection                                                │
│                                                                     │
│  3. Data Security                                                   │
│     • Encryption at rest                                            │
│     • Encryption in transit                                         │
│     • PII data masking                                              │
│     • Audit logging                                                 │
└─────────────────────────────────────────────────────────────────────┘
```

## Deployment Pipeline

```
Development → Git Push → GitHub → CI/CD Pipeline → AWS Amplify → Production
     ↓                                    ↓
Local Testing                    Automated Tests
                                         ↓
                                   Build Process
                                         ↓
                                    Deployment
```